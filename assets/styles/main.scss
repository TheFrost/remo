// Mixins
@mixin apply-brick-bg($list, $exception-index) {
  > .o-brick {
    @each $item in $list {
      $i: index($list, $item);
      @if ($i != $exception-index) {
        &:nth-child(#{$i}) {
          background: url('../images/tocs/' + $item + '-toc.png') no-repeat center center;
          background-size: cover;
        }
      }
    }
  }
}

// Utils
.u-cf:before,
.u-cf:after {
    content: " "; /* 1 */
    display: table; /* 2 */
}

.u-cf:after {
    clear: both;
}

.u-cf {
    *zoom: 1;
}
.u-list-unstyled {
	margin: 0;
	padding: 0;
	list-style: none;
}

.u-fullsize {
  width: 100%;
  height: 100%;
}

// Base Styles
html,
body {
  width: 100%;
  height: 100%;
}

body {
  margin: 0;
  padding: 0;
  background-color: #e2e1e0;
  overflow: hidden;
}

* { box-sizing: border-box;}


// Custom Syles
.js-hide {
  display: none;
}

.o-card {
  perspective: 1000px;
  background-color: #e2e1e0;
  &.js-flip {
    .o-card {
      &__face {
        &--front {
          transform: rotateY(180deg);
        }
        &--back {
          z-index: 11;
          transform: rotateY(0);
        }
      }
    }
  }

  &__face {
    position: absolute;
    top: 0;
    left: 0;
    transform-style: preserve-3d;
    transition: all 4s ease-in-out;
    &--front {
      z-index: 10;
      transform: rotateY(0);
      background: #fff;
    }
    &--back {
      z-index: 9;
      transform: rotateY(-180deg);
      background: #000;
    }
  }
  &--case {
    float: left;
    height: 100%;
    &-a {
      width: calc(100% / 4 * 3);
    }
    &-b {
      width: calc(100% / 4);

      .o-card__face--front {
        $tocs: 4, 8, 12;
        @include apply-brick-bg($tocs, false);
      }
    }
  }
  &--about {
    &-a {
      .o-card__face--front {
        background: url('../images/tocs/1-toc.png') no-repeat center center;
        background-size: cover;
      }
    }
    &-b {
      width: 100%;
      height: calc(100% / 3 * 2);

      .o-brick {
        height: calc(100% / 2);
      }

      .o-card__face--front {
        $tocs: 2, 3, "exception", 7;
        @include apply-brick-bg($tocs, 3);
      }
    }
  }
  &--creew {
    &-a {
      .o-card__face--front {
        background: url('../images/tocs/6-toc.png') no-repeat center center;
        background-size: cover;
      }
    }
    &-b {
      position: absolute;
      top: 0;
      right: 0;
      z-index: 100;
      width: 50%;
      height: 100%;

      .o-card__face--front {
        $tocs: 3, 4, 7, 8 , 11, 12;
        @include apply-brick-bg($tocs, false);
      }
    }
  }
}

.o-col {
  float: left;
  height: 100%;
  &:nth-child(1) {
    width: calc(100% / 3);

    $tocs: "exception", 5, 9;
    @include apply-brick-bg($tocs, 1);
  }
  &:nth-child(2) {
    width: calc(100% / 3 * 2);

    $tocs: "exception", 10, 11;
    @include apply-brick-bg($tocs, 1);
  }
}

.o-brick {
  float: left;
  width: 100%;
  height: calc(100% / 3);
  &--half {
    width: calc(100% / 2);
  }
}
