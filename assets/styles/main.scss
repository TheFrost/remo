// Libs
@import "../../bower_components/include-media/dist/_include-media";

// Mixins
@mixin apply-brick-bg($list, $exception-index) {
  > .o-brick {
    @each $item in $list {
      $i: index($list, $item);
      @if ($i != $exception-index) {
        &:nth-child(#{$i}) {
          background: url('../images/tocs/' + $item + '-toc.png') no-repeat center center;
          background-size: cover;
        }
      }
    }
  }
}

// Utils
.u-cf:before,
.u-cf:after {
    content: " "; /* 1 */
    display: table; /* 2 */
}

.u-cf:after {
    clear: both;
}

.u-cf {
    *zoom: 1;
}
.u-list-unstyled {
	margin: 0;
	padding: 0;
	list-style: none;
}

.u-fullsize {
  width: 100%;
  height: 100%;
}

.u-imgresponsive {
  max-width: 100%;
}

// Base Styles
html,
body {
  width: 100%;
  height: 100%;
}

body {
  margin: 0;
  padding: 0;
  background-color: #e2e1e0;
  overflow: hidden;
}

* { box-sizing: border-box;}

figure {
  margin: 0;
}


// Custom Syles
.js-hide {
  display: none;
}

.o-layout {
  &--desktop {
    display: none;
    @include media(">=tablet") {
      display: block;
    }
  }
  &--mobile {
    @include media(">=tablet") {
      display: none;
    }
  }
}

.o-card {
  perspective: 1000px;
  background-color: #e2e1e0;
  &.js-flip {
    > .o-card__flipper {
      transform: rotateY(180deg);
    }
  }

  &__flipper {
    position: relative;
    display: block;
    transform-style: preserve-3d;
    transition: all 0.6s ease-in-out;
  }
  &__face {
    position: absolute;
    top: 0;
    left: 0;
    display: block;
    backface-visibility: hidden;
    &--front {
      z-index: 10;
      background: #fff;
    }
    &--back {
      transform: rotateY(180deg);
      background: #000;
    }
  }
  &--case {
    float: left;
    height: 100%;
    &-a {
      width: calc(100% / 4 * 3);
    }
    &-b {
      width: calc(100% / 4);

      .o-card__face--front {
        $tocs: 4, 8, 12;
        @include apply-brick-bg($tocs, false);
      }
    }
  }
  &--about {
    &-a {
      .o-card__face--front {
        background: url('../images/tocs/1-toc.png') no-repeat center center;
        background-size: cover;
      }
    }
    &-b {
      width: 100%;
      height: calc(100% / 3 * 2);

      .o-brick {
        height: calc(100% / 2);
      }

      .o-card__face--front {
        $tocs: 2, 3, "exception", 7;
        @include apply-brick-bg($tocs, 3);
      }
    }
  }
  &--crew {
    &-a {
      .o-card__face--front {
        background: url('../images/tocs/6-toc.png') no-repeat center center;
        background-size: cover;
      }
    }
    &-b {
      position: absolute;
      top: 0;
      right: 0;
      z-index: 100;
      width: 50%;
      height: 100%;

      .o-card__face--front {
        $tocs: 3, 4, 7, 8 , 11, 12;
        @include apply-brick-bg($tocs, false);
      }
    }
  }
}

.o-col {
  float: left;
  width: 50%;
  height: 100%;

  @include media("<tablet") {
    &:nth-child(1) {
      $tocs: 1, 6, 9, 10;
      @include apply-brick-bg($tocs, false);
    }
    &:nth-child(2) {
      $tocs: 3, 4, 7, 8;
      @include apply-brick-bg($tocs, false);
    }
  }
  @include media(">tablet") {
    &:nth-child(1) {
      width: calc(100% / 3);

      $tocs: "exception", 5, 9;
      @include apply-brick-bg($tocs, 1);
    }
    &:nth-child(2) {
      width: calc(100% / 3 * 2);

      $tocs: "exception", 10, 11;
      @include apply-brick-bg($tocs, 1);
    }
  }
}

.o-brick {
  float: left;
  display: block;
  width: 100%;
  height: calc(100% / 3);
  @include media("<tablet") {
    height: calc(100% / 4);
  }
  &--half {
    width: calc(100% / 2);
  }
}

.o-container {
  position: relative;
  overflow-y: scroll;

  // temp
  &:nth-child(1),
  &:nth-child(2) {
    h1 {
      color: white;
    }
  }
}


.o-case {
  &__intro,
  &__content {
    padding: 16px;
  }
  &__intro {
    background-color: #fff;
  }
  &__content {
    background-color: #000;
  }
}


.o-close {
  position: absolute;
  top: 10px;
  right: 10px;
  font-size: 32px;
}
